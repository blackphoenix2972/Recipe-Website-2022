{"ast":null,"code":"import _toConsumableArray from\"D:/Website Projects 2022/Recipe/Recipe-Website-2022/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _asyncToGenerator from\"D:/Website Projects 2022/Recipe/Recipe-Website-2022/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/Website Projects 2022/Recipe/Recipe-Website-2022/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"D:\\\\Website Projects 2022\\\\Recipe\\\\Recipe-Website-2022\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import axios from\"axios\";import{useEffect,useState}from\"react\";import'../styles/Nutrients.css';import'../../node_modules/bootstrap/dist/css/bootstrap.min.css';import Container from'react-bootstrap/Container';import Table from'react-bootstrap/Table';import Header from\"../components/Header\";// 19876f023c9742af9d6a92a463450d93\n// 491d569998e647a2b00ee7791bd9d5a6\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Nutrients=function Nutrients(props){var title=props.title;var url=window.location.href;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),text=_useState2[0],setText=_useState2[1];var strs=url.split(\"/\");var id=strs.at(-1);var number_id=Number(id);var API_KEY=\"19876f023c9742af9d6a92a463450d93\";var URL=\"https://api.spoonacular.com/recipes/\"+String(number_id)+\"/information?apiKey=\"+API_KEY;var URL_ANALYZED_INSTRUCTIONS=\"https://api.spoonacular.com/recipes/\"+String(number_id)+\"/analyzedInstructions?apiKey=\"+API_KEY;var URL_INGREDIENTS=\"https://api.spoonacular.com/recipes/\"+String(number_id)+\"/ingredientWidget.json?apiKey=\"+API_KEY;var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),image=_useState4[0],setImage=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),instructions=_useState6[0],setInstructions=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),ingredients=_useState8[0],setIngredients=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),ingredientImage=_useState10[0],setIngredientimage=_useState10[1];var SIZE='100x100';var x=\"https://spoonacular.com/cdn/ingredients_\".concat(SIZE,\"/\");useEffect(function(){get_image(URL);get_analyzed_instructions(URL_ANALYZED_INSTRUCTIONS);get_ingredients(URL_INGREDIENTS);},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsx(\"div\",{className:\"image-container\",children:/*#__PURE__*/_jsx(\"img\",{src:image,width:\"500px\"})})}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(\"h3\",{children:/*#__PURE__*/_jsx(\"b\",{children:\"Instructions:\"})}),instructions.map(function(instruction,index){return/*#__PURE__*/_jsxs(\"div\",{children:[console.log('Hello  '+ingredientImage),/*#__PURE__*/_jsxs(\"p\",{children:[index+1,\" - \",instruction]})]});})]})}),/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(\"h3\",{children:/*#__PURE__*/_jsx(\"b\",{children:\"Ingredients:\"})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"ingredients-grid-container\",children:ingredients.map(function(value,index){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"img\",{src:x+ingredientImage[index],width:\"100px\"}),/*#__PURE__*/_jsx(\"div\",{style:{paddingTop:20},children:/*#__PURE__*/_jsx(\"p\",{children:value})}),/*#__PURE__*/_jsx(\"br\",{})]})});})})})]})]});function get_image(_x){return _get_image.apply(this,arguments);}function _get_image(){_get_image=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(URL){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(URL).then(function(res){setImage(res.data.image);});case 2:case\"end\":return _context.stop();}}},_callee);}));return _get_image.apply(this,arguments);}function get_analyzed_instructions(_x2){return _get_analyzed_instructions.apply(this,arguments);}function _get_analyzed_instructions(){_get_analyzed_instructions=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(URL){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.get(URL).then(function(res){var _loop=function _loop(key){var _loop2=function _loop2(index){setInstructions(function(prev){return[].concat(_toConsumableArray(prev),[res.data[key].steps[index].step]);});};for(var index in res.data[key].steps){_loop2(index);}};for(var key in res.data){_loop(key);}});case 2:case\"end\":return _context2.stop();}}},_callee2);}));return _get_analyzed_instructions.apply(this,arguments);}function get_ingredients(_x3){return _get_ingredients.apply(this,arguments);}function _get_ingredients(){_get_ingredients=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(URL){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return axios.get(URL).then(function(res){//  console.log(res.data.ingredients)\nvar ingredients=res.data.ingredients;ingredients.forEach(function(element){// console.log(element.name)\nvar ingredientName=element.name;var ingredientImage=element.image;setIngredients(function(prev){return[].concat(_toConsumableArray(prev),[ingredientName]);});setIngredientimage(function(prev){return[].concat(_toConsumableArray(prev),[ingredientImage]);});});// set_analyzed_instructions(res.data)\n});case 2:case\"end\":return _context3.stop();}}},_callee3);}));return _get_ingredients.apply(this,arguments);}};export default Nutrients;","map":{"version":3,"sources":["D:/Website Projects 2022/Recipe/Recipe-Website-2022/src/pages/Nutrients.js"],"names":["axios","useEffect","useState","Container","Table","Header","Nutrients","props","title","url","window","location","href","text","setText","strs","split","id","at","number_id","Number","API_KEY","URL","String","URL_ANALYZED_INSTRUCTIONS","URL_INGREDIENTS","image","setImage","instructions","setInstructions","ingredients","setIngredients","ingredientImage","setIngredientimage","SIZE","x","get_image","get_analyzed_instructions","get_ingredients","map","instruction","index","console","log","value","paddingTop","get","then","res","data","key","prev","steps","step","forEach","element","ingredientName","name"],"mappings":"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","sourcesContent":["import axios from \"axios\";\r\nimport { useEffect, useState } from \"react\";\r\nimport '../styles/Nutrients.css'\r\nimport '../../node_modules/bootstrap/dist/css/bootstrap.min.css';\r\nimport Container from 'react-bootstrap/Container';\r\nimport Table from 'react-bootstrap/Table'\r\nimport Header from \"../components/Header\";\r\n\r\n// 19876f023c9742af9d6a92a463450d93\r\n// 491d569998e647a2b00ee7791bd9d5a6\r\nconst Nutrients = (props) => {\r\n  const title = props.title;\r\n  const url = window.location.href;\r\n  const [text, setText] = useState([]);\r\n  const strs = url.split(\"/\");\r\n\r\n  const id = strs.at(-1);\r\n\r\n  let number_id = Number(id);\r\n  const API_KEY = \"19876f023c9742af9d6a92a463450d93\";\r\n  const URL =\r\n    \"https://api.spoonacular.com/recipes/\" +\r\n    String(number_id) +\r\n    \"/information?apiKey=\" +\r\n    API_KEY;\r\n  const URL_ANALYZED_INSTRUCTIONS =\r\n    \"https://api.spoonacular.com/recipes/\" +\r\n    String(number_id) +\r\n    \"/analyzedInstructions?apiKey=\" +\r\n    API_KEY;\r\n\r\nconst URL_INGREDIENTS = \"https://api.spoonacular.com/recipes/\" + String(number_id) + \"/ingredientWidget.json?apiKey=\" + API_KEY;\r\n\r\n  const [image, setImage] = useState(\"\");\r\n  const [instructions, setInstructions] = useState([]);\r\n  const [ingredients, setIngredients] = useState([]);\r\n  const [ingredientImage, setIngredientimage] = useState([]);\r\nconst SIZE = '100x100'\r\nlet x = `https://spoonacular.com/cdn/ingredients_${SIZE}/`;\r\n\r\n  useEffect(() => {\r\n    get_image(URL);\r\n    get_analyzed_instructions(URL_ANALYZED_INSTRUCTIONS);\r\n    get_ingredients(URL_INGREDIENTS)\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n    <Header/>\r\n    <Container>\r\n      <div className=\"image-container\">\r\n      <img src={image} width='500px' />\r\n      </div>\r\n     </Container>\r\n     \r\n      <p>\r\n        <Container>\r\n        <h3><b>Instructions:</b></h3>\r\n        {instructions.map((instruction,index) => {\r\n          return (\r\n            <div>\r\n              {console.log('Hello  ' +ingredientImage)}\r\n              \r\n              <p>{index+1} - {instruction}</p>\r\n              \r\n              </div>\r\n          );\r\n        })}\r\n        </Container>\r\n      </p>\r\n      <Container>\r\n        <h3><b>Ingredients:</b></h3><br/>\r\n      <p><div className=\"ingredients-grid-container\">\r\n      \r\n       {ingredients.map((value, index)=>{\r\n         return (\r\n           <>\r\n           \r\n     <div>\r\n               <img src={x + ingredientImage[index]} width='100px' />\r\n                <div style={{paddingTop:20}}>\r\n                <p>{value}</p>\r\n                </div>\r\n                <br/>\r\n          </div>    \r\n          \r\n        \r\n\r\n          \r\n   \r\n           </>\r\n         );\r\n       })}\r\n       </div>\r\n      </p>\r\n      </Container>\r\n    </>\r\n  );\r\n\r\n  async function get_image(URL) {\r\n    await axios.get(URL).then((res) => {\r\n      setImage(res.data.image);\r\n    });\r\n  }\r\n\r\n  async function get_analyzed_instructions(URL) {\r\n    await axios.get(URL).then((res) => {\r\n      for (const key in res.data) {\r\n        for (const index in res.data[key].steps) {\r\n          setInstructions(prev => [...prev, res.data[key].steps[index].step])\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  async function get_ingredients(URL) {\r\n    await axios.get(URL).then((res) => {\r\n    //  console.log(res.data.ingredients)\r\n      let ingredients = res.data.ingredients;\r\n      ingredients.forEach(element => {\r\n        // console.log(element.name)\r\n        let ingredientName = element.name;\r\n        let ingredientImage = element.image;\r\n        setIngredients(prev => [...prev, ingredientName]);\r\n        setIngredientimage(prev => [...prev, ingredientImage])\r\n      });\r\n      // set_analyzed_instructions(res.data)\r\n    });\r\n  }\r\n};\r\n\r\nexport default Nutrients;\r\n"]},"metadata":{},"sourceType":"module"}